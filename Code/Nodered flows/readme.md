I'm a complete noob at MQTT/Nodered but this might get you started. Enter your own broker and influxdb and it will log pool data which you can graph in grafana.
It is possible to send commands to the SPA also but I haven't got to that. If you do you are welcome to upload the flow here.
